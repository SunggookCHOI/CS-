# 데이터 모델링

## 데이터 모델링의 정의
> 업무에 필요한 데이터들을 어떻게 표기할 것인지 정함으로써 업무 내용을 정확하게 분석하고, 나아가 실제 데이터베이스를 생성하여 활용한다.

## 데이터 모델링의 3단계
추상화된 모델링부터 시작하여 점점 구체화시켜 나간다.
1. 개념적 데이터 모델링
> 사용자의 데이터 요구사항을 분석하여 중요한 데이터와 보관해야 할 데이터를 결정한 후, 그것을 표현하기 위한 엔터티들과의 관계를 표현한다.
사용자와 개발자가 요구사항을 쉽게 이해하고 구조화 할 수 있도록 도와주며, 상호 의사소통이 가능하도록 한다. <br>
2. 논리적 데이터 모델링
> 물리적 스키마를 설계하기 전 단계로, 누가 어떻게 데이터에 접근할 것인지를 명확히 하는 단계이다. 개념적 데이터 모델링에서 ERD를 통해 데이터간의 관계를
추상적으로 나타낸다면, 이 단계에서는 데이터의 구조와 규칙을 명확히 결정한다. 또한, 데이터 모델링에서 가장 중요한 개념 중 하나인 정규화 역시 논리적 
데이터 모델링에 해당된다. <br>
3. 물리적 데이터 모델링
> 데이터가 구체적으로 어떻게 하드웨어에 표현될 것인가를 다루는 단계이다. <br>

## 데이터 독립성
모듈들이 각각의 고유한 특징과 기능을 갖도록 함으로써, 모듈들이 개별로 의미가 있으면서도 다른 서비스와 결합하여 프로세스로서도 의미가 있도록 한다. 
이렇게 함으로써, 데이터 복잡도를 낮추고 유지보수를 쉽게 할 수 있다.
> 1. 각 View의 독립성을 유지하고 계층별 View에 영향을 주지 않고 변경이 가능하다.<br>
> 2. 단계별 Schema에 따라 데이터 정의어와 데이터 조작어가 다름을 제공한다. <br>

<img src="https://t1.daumcdn.net/cfile/tistory/9983FE405BF834A511">

1. 외부스키마 : 각각의 사용자가 접근할 때의 DB<br>
2. 개념스키마 : 모든 사용자를 통합하여 조직 전체의 DB <br>
3. 내부스키마 : DB가 물리적으로 저장된 형식<br><br>

1. 논리적 독립성 : 개념스키마가 변경되어도 외부스키마에는 영향을 미지치 않도록 하는 것<br>
2. 물리적 독립성 : 내부스키마가 변경되어도 외부, 개념스키마에는 영향을 미치지 않도록 하는 것<br>

## 좋은 데이터 모델의 요소
1. 완전성
2. 중복배제
3. 업무규칙
4. 데이터 재사용
5. 의사소통

# 엔터티
## 발생시점에 따른 분류
1. 기본엔터티
> 업무에 원래 존재하는 정보로, 독립적으로 생성이 가능하다. ex) 사원, 부서 <br>
2. 중심엔터티
> 기본엔터티로부터 발생되며, 업무에서 가장 중심적인 역할을 한다. 다른 엔터티와의 관계를 통해 수많은 행위엔터티를 생성한다. ex) 계약, 청구, 주문 <br>
3. 행위엔터티
> 두 개 이상의 부모엔터티로부터 발생되고 내용이 자주 바뀐다. 설계 초기 단계보다는 상세 설계단계에서 나타나게 된다. ex) 주문목록, 사원변경이력<br>
## 엔터티 명명
모든 엔터티에서 유일한 단수명사로 한다.

# 속성
인스턴스에서 관리하고자 하는 의미상 더 이상 분리되지 않는 최소의 데이터 단위

# 식별자
## 주식별자
여러개의 속성을 묶어 주식별자로 사용하면 조건절이 복잡해지므로 새로운 인조식별자를 만드는 것이 조건절을 단순하게 만드는 방법이 될 수 있다.
## 식별자관계와 비식별자관계에 따른 식별자
1. 부모 엔터티로부터 받은 속성만을 주식별자로 쓰는 경우에는 1:1 관계가 되며, 다른 부모테이블로부터 받은 속석이나 자기 사신의 속성과 함께 주식별자로 
사용하는 경우에는 1:M 관계가 괸다. <br>
2. 부모로부터 받은 속성을 식별자로 사용하지 않는 경우 <br>
> 1. 부모 없는 자식이 가능한 경우<br>
> 2. 엔터티별 생명주기가 다른 경우<br>
> 3. 엔터티가 통합되어 표현되었지만 각각 별도의 관계를 가질 경우 ex) 방문접수 + 인터넷접수 = 접수 <br>
> 4. 별도의 주식별자를 두는 것이 유리하다고 판단되는 경우
<br><hr><br>

# 데이터 모델과 성능
정규화/반정규화, 인덱스를 고려한 칼럼 순서 변경, 테이블 수직/수평 분할 ...
## 정규화
중복제거, 동일 데이터 집약을 통한 용량 최소화 <br>
일반적으로(이상적으로??) 입력/수정/삭제 성능 향상
## 반정규화
조회성능 향상
### 반정규화의 성능 저하
1. PK로 다른 Table에 Join 하면 성능저하가 미비하다. 이러한 경우, 반정규화에 의해 불필요한 컬럼까지 검색하여 조회 성능이 저하 될 수 있다. <br>
2. inline view에 의한 성능저하
